### 三次握手四次握手

##### TCP连接建立

​	客户和服务器都处于close关闭状态，服务端进程启动处于Listen状态，客户端进程发送报文段进入syn-sent，服务端接收进入syn-rcvd并且发送确认报文，客户端收到进入established并且继续发送确认报文，服务端接收进入established。

##### TCP释放链接

​	客户端发送完毕后发送释放报文进入fin-wait-1，服务端接收并且发送报文进入close-wait，客户端接收进入fin-wait-2，此刻客户端到服务器连接关闭，服务端可能有数据需要持续发送给客户端，发送完成后服务端发送释放报文进入last-ack，客户端接收进入time-wait并且发送确认报文，服务端接收进入close，time-wait时间后客户端进入close

###### time-wait时间存在的意义

​	客户端发送最后发送的报文，如果丢失，服务端就一直处于last-ack状态，因此指定时间内服务端没有接收到最后的报文，会重新发送报文给客户端，客户端在time-wait内，再次发送最后报文。	