## JVM

### Jvm的内存模型

​	jvm的内存分为 方法区 、堆区、虚拟机栈、本地方法栈、程序计数器五个部分。

###### 方法区

```
设置元空间大小
-XX:MetaspaceSize=128m
设置最大元空间大小 
-XX:MaxMetaspaceSize=256m
-XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=256m
```





​	

### JDK自带的命令行调优工具

#### 1.JPS

​	查看正在运行的 Java 进程

### 2.jstat

​	查看JVM的统计信息

```
<option>: 指定要显示的统计信息的类型，例如 gc（垃圾收集）、class（类加载）等。
-t: 可选，显示输出中包含时间戳。
-h<lines>: 可选，通过指定 lines 的值来控制输出是多少行后显示一次标题（即列名）。
<vmid>: 目标 Java 虚拟机的进程 ID。
<interval>: 可选，刷新数据的时间间隔（以毫秒为单位）。
<count>: 可选，数据刷新的总次数。
#统计48872 PID java进程的的堆内存信息，间隔1000毫秒输出一次，输出2000次，并且每输出10行打印表头信息
jstat -gc -h 10  48872  1000 2000   
```

### 3.jstack

​	用于生成虚拟机指定进程当前时刻的线程快照（虚拟机堆栈跟踪）。
